import e from"isomorphic-unfetch";var r="https://retroachievements.org/API",t=function(e,r,t,o){void 0===o&&(o={});for(var n=(e+"/"+r).replace(/([^:]\/)\/+/g,"$1"),s={z:t.userName,y:t.webApiKey},i=0,a=Object.entries(o);i<a.length;i++){var u=a[i],c=u[0],l=u[1];n.includes(":"+c)?n=n.replace(":"+c,String(l)):void 0!==l&&(s[c]=String(l))}return n+"?"+new URLSearchParams(s).toString()},o=function(r){try{return Promise.resolve(e(r.url)).then(function(e){return Promise.resolve(e.json())})}catch(e){return Promise.reject(e)}};function n(){return n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},n.apply(this,arguments)}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function i(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,r){if(e){if("string"==typeof e)return s(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u,c,l=function e(r,t){void 0===t&&(t={});var o=t.shouldCastToNumbers,s=t.shouldMapToBooleans,a=r;if(Array.isArray(r)){for(var u,c=[],l=i(r);!(u=l()).done;)c.push(e(u.value,t));a=c}else if(!Array.isArray(r)&&r instanceof Object){for(var h={},d=0,v=Object.entries(r);d<v.length;d++){var f,P=v[d],p=P[0],A=P[1],y=A;null!=o&&o.includes(p)&&(y=null===A?null:Number(A)),null!=s&&s.includes(p)&&(y=null===A?null:"1"===A),h=n({},h,((f={})[m(p)]=e(y,t),f))}a=h}return a},m=function(e){if(e.toUpperCase()===e)return e.toLowerCase();var r=e.charAt(0).toLowerCase()+e.slice(1);return(r=(r=r.replace(/ID/g,"Id")).replace(/URL/g,"Url")).replace(/rA/g,"ra")},h=function(e,n){try{var s=n.offset,i=n.count,a={a:n.achievementId};s&&(a.o=s),i&&(a.c=i);var u=t(r,"/API_GetAchievementUnlocks.php",e,a);return Promise.resolve(o({url:u})).then(function(e){return l(e,{shouldCastToNumbers:["ID","Points","TrueRatio","RAPoints"],shouldMapToBooleans:["HardcoreMode"]})})}catch(e){return Promise.reject(e)}},d=function(e){try{var n=t(r,"/API_GetConsoleIDs.php",e);return Promise.resolve(o({url:n})).then(function(e){return l(e,{shouldCastToNumbers:["ID"]})})}catch(e){return Promise.reject(e)}},v=function(e,s){try{var i=s.shouldOnlyRetrieveGamesWithAchievements,a=s.shouldRetrieveGameHashes,u={i:s.consoleId};void 0!==i&&(u=n({},u,{f:i?1:0})),a&&(u=n({},u,{h:a?1:0}));var c=t(r,"/API_GetGameList.php",e,u);return Promise.resolve(o({url:c})).then(function(e){return l(e,{shouldCastToNumbers:["ID","ConsoleID"]})})}catch(e){return Promise.reject(e)}},f=function(e){try{var n=t(r,"/API_GetAchievementOfTheWeek.php",e);return Promise.resolve(o({url:n})).then(function(e){return l(e,{shouldCastToNumbers:["ID","Points","TrueRatio","TotalPlayers","RAPoints","UnlocksCount"],shouldMapToBooleans:["HardcoreMode"]})})}catch(e){return Promise.reject(e)}},P=function(e){try{var n=t(r,"/API_GetActiveClaims.php",e);return Promise.resolve(o({url:n})).then(function(e){return l(e,{shouldCastToNumbers:["ID","GameID","ClaimType","SetType","Status","Extension","Special","MinutesLeft"]})})}catch(e){return Promise.reject(e)}},p=function(e){try{var n=t(r,"/API_GetTopTenUsers.php",e);return Promise.resolve(o({url:n})).then(function(e){for(var r,t=[],o=i(e);!(r=o()).done;){var n=r.value;t.push({userName:n[1],totalPoints:Number(n[2]),totalRatioPoints:Number(n[3])})}return t})}catch(e){return Promise.reject(e)}};!function(e){e[e.Primary=0]="Primary",e[e.Collaboration=1]="Collaboration"}(a||(a={})),function(e){e[e.NewSet=0]="NewSet",e[e.Revision=1]="Revision"}(u||(u={})),function(e){e[e.Active=0]="Active",e[e.Complete=1]="Complete",e[e.Dropped=2]="Dropped"}(c||(c={}));var A,y,I=function(e,n){try{var s=t(r,"/API_GetAchievementCount.php",e,{i:n.gameId});return Promise.resolve(o({url:s})).then(l)}catch(e){return Promise.reject(e)}},b=function(e,n){try{var s=n.flags,i=n.hardcore,a={i:n.gameId};void 0!==s&&(a.f=s),void 0!==i&&(a.h=!0===i?1:0);var u=t(r,"/API_GetAchievementDistribution.php",e,a);return Promise.resolve(o({url:u}))}catch(e){return Promise.reject(e)}},N=function(e,n){try{var s=t(r,"/API_GetGame.php",e,{i:n.gameId});return Promise.resolve(o({url:s})).then(function(e){return l(e,{shouldCastToNumbers:["ID","ForumTopicID","ConsoleID","Flags","Released"]})})}catch(e){return Promise.reject(e)}},T=function(e,n){try{var s=t(r,"/API_GetGameExtended.php",e,{i:n.gameId});return Promise.resolve(o({url:s})).then(function(e){return l(e,{shouldCastToNumbers:["ID","NumAwarded","NumAwardedHardcore","Points","TrueRatio","DisplayOrder","NumDistinctPlayersCasual","NumDistinctPlayersHardcore","Released"]})})}catch(e){return Promise.reject(e)}},C=function(e,n){try{var s=t(r,"/API_GetGameRankAndScore.php",e,{g:n.gameId,t:"latest-masters"===n.type?1:0});return Promise.resolve(o({url:s})).then(function(e){return l(e,{shouldCastToNumbers:["TotalScore"]})})}catch(e){return Promise.reject(e)}},g=function(e,n){try{var s=t(r,"/API_GetGameRating.php",e,{i:n.gameId});return Promise.resolve(o({url:s})).then(l)}catch(e){return Promise.reject(e)}};!function(e){e[e.CoreAchievements=3]="CoreAchievements",e[e.UnofficialAchievements=5]="UnofficialAchievements"}(A||(A={})),function(e){e.Primary="0",e.Collaboration="1"}(y||(y={}));var D=function(e,n){void 0===n&&(n={});try{var s=G(n),i=t(r,"/API_GetTicketData.php",e,s);return Promise.resolve(o({url:i})).then(function(e){return l(e,{shouldCastToNumbers:["ID","AchievementID","Points","GameID","ReportType","ReportState","OpenTickets"],shouldMapToBooleans:["Hardcore"]})})}catch(e){return Promise.reject(e)}},G=function(e){var r=e.ticketId,t=e.isGettingMostTicketedGames,o=e.userName,n=e.gameId,s=e.isGettingTicketsForUnofficialAchievements,i=e.shouldReturnTicketsList,a=e.achievementId,u={};return void 0!==r?u.i=r:t?(u.f="1",u=j(u,e)):o?u.u=o:n?(u.g=n,s&&(u.f="5"),i&&(u.d="1")):a?u.a=a:u=j(u,e),u},j=function(e,r){var t=n({},e);return void 0!==r.count&&(t.c=r.count),void 0!==r.offset&&(t.o=r.offset),t},S=function(e,n){try{var s=n.toDate,i=t(r,"/API_GetAchievementsEarnedBetween.php",e,{u:n.userName,f:(n.fromDate.getTime()/1e3).toFixed(0),t:(s.getTime()/1e3).toFixed(0)});return Promise.resolve(o({url:i})).then(function(e){return l(e,{shouldCastToNumbers:["AchievementID","Points","GameID"],shouldMapToBooleans:["HardcoreMode"]})})}catch(e){return Promise.reject(e)}},R=function(e,n){try{var s=n.onDate,i=t(r,"/API_GetAchievementsEarnedOnDay.php",e,{u:n.userName,d:s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate()});return Promise.resolve(o({url:i})).then(function(e){return l(e,{shouldCastToNumbers:["AchievementID","Points","GameID"],shouldMapToBooleans:["HardcoreMode"]})})}catch(e){return Promise.reject(e)}},_=function(e,n){try{var s=t(r,"/API_GetGameInfoAndUserProgress.php",e,{g:n.gameId,u:n.userName});return Promise.resolve(o({url:s})).then(function(e){return l(e,{shouldCastToNumbers:["ID","NumAwarded","NumAwardedHardcore","Points","TrueRatio","DisplayOrder","NumDistinctPlayersCasual","NumDistinctPlayersHardcore","Released"]})})}catch(e){return Promise.reject(e)}},U=function(e,n){try{var s=t(r,"/API_GetUserClaims.php",e,{u:n.userName});return Promise.resolve(o({url:s})).then(function(e){return l(e,{shouldCastToNumbers:["ID","GameID","ClaimType","SetType","Status","Extension","Special","MinutesLeft"]})})}catch(e){return Promise.reject(e)}},w=function(e,n){try{var s=t(r,"/API_GetUserCompletedGames.php",e,{u:n.userName});return Promise.resolve(o({url:s})).then(function(e){return l(e,{shouldCastToNumbers:["GameID","ConsoleID","MaxPossible","NumAwarded","PctWon"],shouldMapToBooleans:["HardcoreMode"]})})}catch(e){return Promise.reject(e)}},M=function(e,n){try{var s=t(r,"/API_GetUserGameRankAndScore.php",e,{g:n.gameId,u:n.userName});return Promise.resolve(o({url:s})).then(function(e){return l(e,{shouldCastToNumbers:["TotalScore","UserRank"]})})}catch(e){return Promise.reject(e)}},H=function(e,n){try{var s=t(r,"/API_GetUserPoints.php",e,{u:n.userName});return Promise.resolve(o({url:s})).then(l)}catch(e){return Promise.reject(e)}},O=function(e,n){try{var s=t(r,"/API_GetUserProgress.php",e,{u:n.userName,i:n.gameIds.join(",")});return Promise.resolve(o({url:s})).then(function(e){return l(e,{shouldCastToNumbers:["NumPossibleAchievements","PossibleScore","NumAchieved","ScoreAchieved","NumAchievedHardcore","ScoreAchievedHardcore"]})})}catch(e){return Promise.reject(e)}},k=function(e,n){try{var s=n.offset,i=n.count,a={u:n.userName};void 0!==s&&(a.o=s),void 0!==i&&(a.c=i);var u=t(r,"/API_GetUserRecentlyPlayedGames.php",e,a);return Promise.resolve(o({url:u})).then(function(e){return l(e,{shouldCastToNumbers:["GameID","ConsoleID","NumPossibleAchievements","PossibleScore","NumAchieved","ScoreAchieved","NumAchievedHardcore","ScoreAchievedHardcore","MyVote"]})})}catch(e){return Promise.reject(e)}},B=function(e,n){try{var s=n.recentGamesCount,i=n.recentAchievementsCount,a={u:n.userName};void 0!==s&&(a.g=s),void 0!==i&&(a.a=i);var u=t(r,"/API_GetUserSummary.php",e,a);return Promise.resolve(o({url:u})).then(function(e){return l(e,{shouldCastToNumbers:["GameID","ConsoleID","ID","LastGameID","ForumTopicID","activitytype","ContribCount","ContribYield","TotalPoints","TotalSoftcorePoints","TotalTruePoints","Permissions","NumPossibleAchievements","PossibleScore","NumAchieved","ScoreAchieved","NumAchievedHardcore","ScoreAchievedHardcore","Points","SoftcorePoints"],shouldMapToBooleans:["Untracked","UserWallActive","IsAwarded","HardcoreAchieved"]})})}catch(e){return Promise.reject(e)}},L=function(e){if(!e.userName||!e.webApiKey)throw new Error('\n      buildAuthorization() requires an object containing a\n      userName and webApiKey. eg:\n\n      const authorization = buildAuthorization({\n        userName: "myUserName",\n        webApiKey: "myWebApiKey"\n      })\n    ');return e};export{A as AchievementDistributionFlags,u as ClaimSetType,c as ClaimStatus,a as ClaimType,L as buildAuthorization,I as getAchievementCount,b as getAchievementDistribution,f as getAchievementOfTheWeek,h as getAchievementUnlocks,S as getAchievementsEarnedBetween,R as getAchievementsEarnedOnDay,P as getActiveClaims,d as getConsoleIds,N as getGame,T as getGameExtended,_ as getGameInfoAndUserProgress,v as getGameList,C as getGameRankAndScore,g as getGameRating,D as getTicketData,p as getTopTenUsers,U as getUserClaims,w as getUserCompletedGames,M as getUserGameRankAndScore,H as getUserPoints,O as getUserProgress,k as getUserRecentlyPlayedGames,B as getUserSummary,o as unsafe_call};
//# sourceMappingURL=index.esm.js.map
